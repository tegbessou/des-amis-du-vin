parameters:
    ignore_uncovered_internal_classes: false

    paths:
        - ./src

    layers:
        - name: Security
          collectors:
              - type: bool
                must:
                  - type: directory
                    regex: src/Security/.*

        - name: BottleInventory
          collectors:
            - type: bool
              must:
                - type: directory
                  regex: src/BottleInventory/.*

        - name: Country
          collectors:
              - type: directory
                regex: src/Country/.*

        - name: Tasting
          collectors:
              - type: directory
                regex: src/Tasting/.*

        - name: Shared
          collectors:
              - type: directory
                regex: src/Shared/.*

        - name: Vendors
          collectors:
              - { type: className, regex: ^ApiPlatform\\ }
              - { type: className, regex: ^Lexik\\ }
              - { type: className, regex: ^Symfony\\ }
              - { type: className, regex: ^Doctrine\\ }
              - { type: className, regex: ^Webmozart\\ }
              - { type: className, regex: ^Kreait\\ }
              - { type: className, regex: ^Vich\\ }
              - { type: className, regex: ^Attribute }
              - { type: className, regex: ^Override }
              - { type: className, regex: ^Exception }
              - { type: className, regex: ^LogicException }
              - { type: className, regex: ^RuntimeException }
              - { type: className, regex: ^InvalidArgumentException }
              - { type: className, regex: ^DateTime }
              - { type: className, regex: ^Iterator }
              - { type: className, regex: ^Countable }
              - { type: className, regex: ^Traversable }
              - { type: className, regex: ^ArrayIterator }

    ruleset:
        Security: [ Shared, Vendors ]
        BottleInventory: [ Shared, Vendors ]
        Country: [ Shared, Vendors ]
        Tasting: [ Shared, Vendors ]
        Shared: [ Vendors ]